{"version":3,"sources":["../../src/commands/toggleParentRow.js"],"names":["toggleParentRow","table","editor","selected","selection","nodes","Editor","at","match","n","type","node","rows","path","length","children","cell","parentRow","Transforms","setNodes","subParent","parent"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;AAEA,IAAMA,eAAe,GAAG,SAAlBA,eAAkB,OAAiC;AAAA,MAA9BC,KAA8B,QAA9BA,KAA8B;AAAA,MAAvBC,MAAuB,QAAvBA,MAAuB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AAAA,MAC/CC,SAD+C,GACjCF,MADiC,CAC/CE,SAD+C;AAEvD,MAAI,CAACH,KAAD,IAAU,CAACG,SAAf,EAA0B;;AAC1B,MAAMC,KAAK,GAAGC,cAAOD,KAAP,CAAaH,MAAb,EAAqB;AACjCK,IAAAA,EAAE,EAAEN,KAAK,CAAC,CAAD,CADwB;AAEjCO,IAAAA,KAAK,EAAE,eAACC,CAAD;AAAA,aAAOA,CAAC,CAACC,IAAF,KAAW,WAAlB;AAAA;AAF0B,GAArB,CAAd;;AAHuD,6CAQpCL,KARoC;AAAA;;AAAA;AAQvD,wDAA0B;AAAA,UAAfM,IAAe;;AAAA,iCACHA,IADG;AAAA,UACjBC,IADiB;AAAA,UACXC,IADW;;AAExB,UAAI,CAAC,gBAAID,IAAJ,EAAU,UAAV,EAAsB,EAAtB,EAA0BE,MAA/B,EAAuC;;AAFf,kDAGLF,IAAI,CAACG,QAHA;AAAA;;AAAA;AAGxB,+DAAkC;AAAA,cAAvBC,IAAuB;;AAChC,cAAI,gBAAIA,IAAJ,EAAU,cAAV,CAAJ,EAA+B;AAC7B,gBAAMC,SAAS,GAAG,gBAAIL,IAAJ,EAAU,QAAV,EAAoB,IAApB,CAAlB;;AACA,gBAAIK,SAAS,IAAI,gBAAIA,SAAJ,EAAe,IAAf,MAAyB,gBAAId,QAAJ,EAAc,IAAd,CAA1C,EAA+D;AAC7De,gCAAWC,QAAX,CAAoBjB,MAApB,EAA4B;AAAEkB,gBAAAA,SAAS,EAAEjB;AAAb,eAA5B,EAAqD;AAAEI,gBAAAA,EAAE,EAAEM;AAAN,eAArD;AACD,aAFD,MAEO;AACLK,gCAAWC,QAAX,CAAoBjB,MAApB,EAA4B;AAAEmB,gBAAAA,MAAM,EAAElB;AAAV,eAA5B,EAAkD;AAAEI,gBAAAA,EAAE,EAAEM;AAAN,eAAlD;AACD;AACF;AACF;AAZuB;AAAA;AAAA;AAAA;AAAA;AAazB;AArBsD;AAAA;AAAA;AAAA;AAAA;AAsBxD,CAtBD;;eAwBeb,e","sourcesContent":["import { Transforms, Editor } from \"slate\";\nimport { get } from \"../utils\";\n\nconst toggleParentRow = ({ table, editor, selected }) => {\n  const { selection } = editor;\n  if (!table || !selection) return;\n  const nodes = Editor.nodes(editor, {\n    at: table[1],\n    match: (n) => n.type === \"table_row\",\n  });\n\n  for (const node of nodes) {\n    const [rows, path] = node;\n    if (!get(rows, \"children\", []).length) return;\n    for (const cell of rows.children) {\n      if (get(cell, \"selectedCell\")) {\n        const parentRow = get(rows, \"parent\", null);\n        if (parentRow && get(parentRow, \"id\") !== get(selected, \"id\")) {\n          Transforms.setNodes(editor, { subParent: selected }, { at: path });\n        } else {\n          Transforms.setNodes(editor, { parent: selected }, { at: path });\n        }\n      }\n    }\n  }\n};\n\nexport default toggleParentRow;\n"],"file":"toggleParentRow.js"}