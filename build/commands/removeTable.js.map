{"version":3,"sources":["../../src/commands/removeTable.js"],"names":["removeTable","table","editor","path","previous","Editor","at","Transforms","insertNodes","type","children","text","nextPath","length","Path","next","nextNode","removeNodes","match","n"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAQC,MAAR,EAAmB;AACrC,MAAI,CAACA,MAAD,IAAW,CAACD,KAAhB,EAAuB;AAEvB,MAAME,IAAI,GAAGF,KAAK,CAAC,CAAD,CAAlB;;AACA,MAAMG,QAAQ,GAAGC,cAAOD,QAAP,CAAgBF,MAAhB,EAAwB;AAAEI,IAAAA,EAAE,EAAEH;AAAN,GAAxB,CAAjB;;AAEA,MAAI,CAACC,QAAL,EAAe;AACbG,sBAAWC,WAAX,CACEN,MADF,EAEE;AAAEO,MAAAA,IAAI,EAAE,WAAR;AAAqBC,MAAAA,QAAQ,EAAE,CAAC;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAD;AAA/B,KAFF,EAGE;AAAEL,MAAAA,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ;AAAN,KAHF;;AAMA,QAAMM,QAAQ,GAAGT,IAAI,IAAIA,IAAI,CAACU,MAAb,IAAuBC,YAAKC,IAAL,CAAUZ,IAAV,CAAxC;;AACA,QAAMa,QAAQ,GAAGJ,QAAQ,IAAI,oBAAQV,MAAR,EAAgBU,QAAhB,CAA7B;;AAEA,QAAII,QAAQ,IAAIA,QAAQ,CAACP,IAAT,KAAkB,OAAlC,EAA2C;AACzCF,wBAAWU,WAAX,CAAuBf,MAAvB,EAA+B;AAAEI,QAAAA,EAAE,EAAEM;AAAN,OAA/B;AACD;;AAED;AACD;;AAEDL,oBAAWU,WAAX,CAAuBf,MAAvB,EAA+B;AAC7BgB,IAAAA,KAAK,EAAE,eAAAC,CAAC;AAAA,aAAIA,CAAC,CAACV,IAAF,KAAW,OAAf;AAAA,KADqB;AAE7BH,IAAAA,EAAE,EAAEH;AAFyB,GAA/B;AAID,CA3BD;;eA6BeH,W","sourcesContent":["import { Transforms, Path, Editor } from 'slate';\nimport { getNode } from '../utils';\n\nconst removeTable = (table, editor) => {\n  if (!editor || !table) return;\n\n  const path = table[1];\n  const previous = Editor.previous(editor, { at: path });\n\n  if (!previous) {\n    Transforms.insertNodes(\n      editor,\n      { type: 'paragraph', children: [{ text: ' ' }] },\n      { at: [0, 0] },\n    );\n\n    const nextPath = path && path.length && Path.next(path);\n    const nextNode = nextPath && getNode(editor, nextPath);\n\n    if (nextNode && nextNode.type === 'table') {\n      Transforms.removeNodes(editor, { at: nextPath });\n    }\n\n    return;\n  }\n\n  Transforms.removeNodes(editor, {\n    match: n => n.type === 'table',\n    at: path,\n  });\n};\n\nexport default removeTable;\n"],"file":"removeTable.js"}